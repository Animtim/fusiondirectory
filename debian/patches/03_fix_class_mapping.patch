Author: <cajus@debian.org>
Description: Fix location of auto-generated class mapping file
Index: core/include/class_config.inc
===================================================================
--- a/core/include/class_config.inc	2010-02-05 13:51:35.000000000 +0000
+++ b/core/include/class_config.inc	2010-10-01 06:51:28.478555098 +0000
@@ -100,12 +100,12 @@
         if we have installed or removed plugins. 
      */
     if(session::global_is_set("class_location.inc:timestamp")){
-      $tmp = stat("../include/class_location.inc");
+      $tmp = stat("/var/cache/fusiondirectory/class.cache");
       if($tmp['mtime'] != session::global_get("class_location.inc:timestamp")){
         session::global_un_set("plist");
       }
     }
-    $tmp = stat("../include/class_location.inc");
+    $tmp = stat("/var/cache/fusiondirectory/class.cache");
     session::global_set("class_location.inc:timestamp",$tmp['mtime']);
 
     if($this->filename != "" && filemtime($this->filename) != $this->last_modified){
Index: core/include/functions.inc
===================================================================
--- a/core/include/functions.inc	2010-10-01 06:51:28.000000000 +0000
+++ b/core/include/functions.inc	2010-10-01 06:51:55.250554318 +0000
@@ -75,7 +75,7 @@
 define('DES3_CBC_SHA1',16);

 /* Include required files */
-require_once("class_location.inc");
+require_once("/var/cache/fusiondirectory/class.cache");
 require_once ("functions_debug.inc");
 require_once ("accept-to-gettext.inc");
 
